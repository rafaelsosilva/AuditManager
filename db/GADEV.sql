CREATE DATABASE  IF NOT EXISTS `GADEV` /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci */ /*!80016 DEFAULT ENCRYPTION='N' */;
USE `GADEV`;
-- MySQL dump 10.13  Distrib 8.0.36, for macos14 (x86_64)
--
-- Host: 15.229.117.46    Database: GADEV
-- ------------------------------------------------------
-- Server version	8.3.0

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `TBL_APONTAMENTO`
--

DROP TABLE IF EXISTS `TBL_APONTAMENTO`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `TBL_APONTAMENTO` (
  `ID_APONTAMENTO` int NOT NULL AUTO_INCREMENT,
  `DESCRICAO_APONTAMENTO` varchar(100) NOT NULL,
  `RISCO` varchar(100) NOT NULL,
  `ID_AUDITOR` int NOT NULL,
  `DATA_CRIACAO` varchar(100) NOT NULL,
  `ID_REVISOR` int DEFAULT NULL,
  `DATA_REVISAO` varchar(100) DEFAULT NULL,
  `STATUS` varchar(100) DEFAULT NULL,
  `STATUS_REVISAO` varchar(100) DEFAULT NULL,
  `DESCRICAO_REVISAO` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`ID_APONTAMENTO`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `TBL_APONTAMENTO`
--

LOCK TABLES `TBL_APONTAMENTO` WRITE;
/*!40000 ALTER TABLE `TBL_APONTAMENTO` DISABLE KEYS */;
INSERT INTO `TBL_APONTAMENTO` VALUES (1,'ACESSO INDEVIDO','ALTO',2,'2024-03-31 16:26:05',3,'2024-04-08 03:13:44',NULL,'APROVADO','APONTAMENTO REVISADO COM SUCESSO!'),(2,'CERTIFICADO DIGITAL VENCIDO','ALTO',2,'2024-03-31 18:41:54',NULL,NULL,NULL,NULL,NULL);
/*!40000 ALTER TABLE `TBL_APONTAMENTO` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `TBL_AREA`
--

DROP TABLE IF EXISTS `TBL_AREA`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `TBL_AREA` (
  `ID_AREA` int NOT NULL AUTO_INCREMENT,
  `DESCRICAO_AREA` varchar(100) NOT NULL,
  PRIMARY KEY (`ID_AREA`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `TBL_AREA`
--

LOCK TABLES `TBL_AREA` WRITE;
/*!40000 ALTER TABLE `TBL_AREA` DISABLE KEYS */;
INSERT INTO `TBL_AREA` VALUES (1,'AUDITORIA'),(2,'FINANCEIRA');
/*!40000 ALTER TABLE `TBL_AREA` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `TBL_AUDITORIA`
--

DROP TABLE IF EXISTS `TBL_AUDITORIA`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `TBL_AUDITORIA` (
  `ID_AUDITORIA` int NOT NULL AUTO_INCREMENT,
  `NOME_AUDITORIA` varchar(100) NOT NULL,
  `DATA_INICIO` varchar(100) DEFAULT NULL,
  `DATA_FIM` varchar(100) DEFAULT NULL,
  `ID_RESPONSAVEL` int NOT NULL,
  PRIMARY KEY (`ID_AUDITORIA`),
  KEY `ID_RESPONSAVEL` (`ID_RESPONSAVEL`)
) ENGINE=InnoDB AUTO_INCREMENT=14 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `TBL_AUDITORIA`
--

LOCK TABLES `TBL_AUDITORIA` WRITE;
/*!40000 ALTER TABLE `TBL_AUDITORIA` DISABLE KEYS */;
INSERT INTO `TBL_AUDITORIA` VALUES (1,'GESTAO DE IDENTIDADE E ACESSOS','01/01/2024','01/04/2024',2),(2,'DEVSECOPS','01/01/2024','01/04/2024',2),(5,'ICAAP - 2023','01/01/2024','01/05/2024',2),(8,'ICAAP - 2024','01/01/2024','30/04/2024',0),(9,'ICAAP - 2024','01/01/2024','30/04/2024',0),(10,'GESTAO DE OBSOLESCENCIA TECNOLOGICA','01/01/2024','30/04/2024',0),(11,'GESTAO DE INCIDENTES TECNOLOGICOS','01/01/2024','30/04/2024',0),(12,'GESTAO DE VULNERABILIDADES E AMEACAS','01/01/2024','30/04/2024',2),(13,'GESTAO DE INCIDENTES TECNOLOGICOS','01/01/2024','30/04/2024',2);
/*!40000 ALTER TABLE `TBL_AUDITORIA` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `TBL_AUDITORIA_APONTAMENTO`
--

DROP TABLE IF EXISTS `TBL_AUDITORIA_APONTAMENTO`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `TBL_AUDITORIA_APONTAMENTO` (
  `ID_AUDITORIA_APONTAMENTO` int NOT NULL AUTO_INCREMENT,
  `ID_AUDITORIA` int NOT NULL,
  `ID_APONTAMENTO` int NOT NULL,
  PRIMARY KEY (`ID_AUDITORIA_APONTAMENTO`),
  KEY `FK_AUDITORIA_APONTAMNETO` (`ID_APONTAMENTO`),
  KEY `FK_APONTAMENTO_AUDITORIA` (`ID_AUDITORIA`),
  CONSTRAINT `FK_APONTAMENTO_AUDITORIA` FOREIGN KEY (`ID_AUDITORIA`) REFERENCES `TBL_AUDITORIA` (`ID_AUDITORIA`),
  CONSTRAINT `FK_AUDITORIA_APONTAMNETO` FOREIGN KEY (`ID_APONTAMENTO`) REFERENCES `TBL_APONTAMENTO` (`ID_APONTAMENTO`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `TBL_AUDITORIA_APONTAMENTO`
--

LOCK TABLES `TBL_AUDITORIA_APONTAMENTO` WRITE;
/*!40000 ALTER TABLE `TBL_AUDITORIA_APONTAMENTO` DISABLE KEYS */;
INSERT INTO `TBL_AUDITORIA_APONTAMENTO` VALUES (1,2,1),(2,2,2);
/*!40000 ALTER TABLE `TBL_AUDITORIA_APONTAMENTO` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `TBL_AUDITORIA_CHECKPOINT`
--

DROP TABLE IF EXISTS `TBL_AUDITORIA_CHECKPOINT`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `TBL_AUDITORIA_CHECKPOINT` (
  `ID_AUDITORIA_CHECKPOINT` int NOT NULL AUTO_INCREMENT,
  `ID_AUDITORIA` int NOT NULL,
  `ID_CHECKPOINT` int NOT NULL,
  PRIMARY KEY (`ID_AUDITORIA_CHECKPOINT`),
  KEY `ID_AUDITORIA` (`ID_AUDITORIA`),
  KEY `ID_CHECKPOINT` (`ID_CHECKPOINT`),
  CONSTRAINT `TBL_AUDITORIA_CHECKPOINT_ibfk_1` FOREIGN KEY (`ID_AUDITORIA`) REFERENCES `TBL_AUDITORIA` (`ID_AUDITORIA`),
  CONSTRAINT `TBL_AUDITORIA_CHECKPOINT_ibfk_2` FOREIGN KEY (`ID_CHECKPOINT`) REFERENCES `TBL_CHECKPOINT` (`ID_CHECKPOINT`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `TBL_AUDITORIA_CHECKPOINT`
--

LOCK TABLES `TBL_AUDITORIA_CHECKPOINT` WRITE;
/*!40000 ALTER TABLE `TBL_AUDITORIA_CHECKPOINT` DISABLE KEYS */;
INSERT INTO `TBL_AUDITORIA_CHECKPOINT` VALUES (1,2,1),(2,2,3),(3,2,4);
/*!40000 ALTER TABLE `TBL_AUDITORIA_CHECKPOINT` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `TBL_AUDITORIA_MATRIZ`
--

DROP TABLE IF EXISTS `TBL_AUDITORIA_MATRIZ`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `TBL_AUDITORIA_MATRIZ` (
  `ID_AUDITORIA_MATRIZ` int NOT NULL AUTO_INCREMENT,
  `ID_AUDITORIA` int NOT NULL,
  `ID_MATRIZ_RISCO` int NOT NULL,
  PRIMARY KEY (`ID_AUDITORIA_MATRIZ`),
  KEY `ID_AUDITORIA` (`ID_AUDITORIA`),
  KEY `ID_MATRIZ_RISCO` (`ID_MATRIZ_RISCO`),
  CONSTRAINT `TBL_AUDITORIA_MATRIZ_ibfk_1` FOREIGN KEY (`ID_AUDITORIA`) REFERENCES `TBL_AUDITORIA` (`ID_AUDITORIA`),
  CONSTRAINT `TBL_AUDITORIA_MATRIZ_ibfk_2` FOREIGN KEY (`ID_MATRIZ_RISCO`) REFERENCES `TBL_MATRIZ_RISCO` (`ID_MATRIZ_RISCO`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `TBL_AUDITORIA_MATRIZ`
--

LOCK TABLES `TBL_AUDITORIA_MATRIZ` WRITE;
/*!40000 ALTER TABLE `TBL_AUDITORIA_MATRIZ` DISABLE KEYS */;
INSERT INTO `TBL_AUDITORIA_MATRIZ` VALUES (1,2,1),(2,2,2);
/*!40000 ALTER TABLE `TBL_AUDITORIA_MATRIZ` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `TBL_AUDITORIA_RELATORIO`
--

DROP TABLE IF EXISTS `TBL_AUDITORIA_RELATORIO`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `TBL_AUDITORIA_RELATORIO` (
  `ID_AUDITORIA_RELATORIO` int NOT NULL AUTO_INCREMENT,
  `ID_AUDITORIA` int NOT NULL,
  `ID_RELATORIO` int NOT NULL,
  PRIMARY KEY (`ID_AUDITORIA_RELATORIO`),
  KEY `ID_AUDITORIA` (`ID_AUDITORIA`),
  KEY `ID_RELATORIO` (`ID_RELATORIO`),
  CONSTRAINT `TBL_AUDITORIA_RELATORIO_ibfk_1` FOREIGN KEY (`ID_AUDITORIA`) REFERENCES `TBL_AUDITORIA` (`ID_AUDITORIA`),
  CONSTRAINT `TBL_AUDITORIA_RELATORIO_ibfk_2` FOREIGN KEY (`ID_RELATORIO`) REFERENCES `TBL_RELATORIO` (`ID_RELATORIO`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `TBL_AUDITORIA_RELATORIO`
--

LOCK TABLES `TBL_AUDITORIA_RELATORIO` WRITE;
/*!40000 ALTER TABLE `TBL_AUDITORIA_RELATORIO` DISABLE KEYS */;
INSERT INTO `TBL_AUDITORIA_RELATORIO` VALUES (1,2,1),(2,2,2),(3,2,3);
/*!40000 ALTER TABLE `TBL_AUDITORIA_RELATORIO` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `TBL_AUDITORIA_TESTE`
--

DROP TABLE IF EXISTS `TBL_AUDITORIA_TESTE`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `TBL_AUDITORIA_TESTE` (
  `ID_AUDITORIA_TESTE` int NOT NULL AUTO_INCREMENT,
  `ID_AUDITORIA` int NOT NULL,
  `ID_TESTE` int NOT NULL,
  PRIMARY KEY (`ID_AUDITORIA_TESTE`),
  KEY `ID_AUDITORIA` (`ID_AUDITORIA`),
  KEY `ID_TESTE` (`ID_TESTE`),
  CONSTRAINT `TBL_AUDITORIA_TESTE_ibfk_1` FOREIGN KEY (`ID_AUDITORIA`) REFERENCES `TBL_AUDITORIA` (`ID_AUDITORIA`),
  CONSTRAINT `TBL_AUDITORIA_TESTE_ibfk_2` FOREIGN KEY (`ID_TESTE`) REFERENCES `TBL_TESTE` (`ID_TESTE`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `TBL_AUDITORIA_TESTE`
--

LOCK TABLES `TBL_AUDITORIA_TESTE` WRITE;
/*!40000 ALTER TABLE `TBL_AUDITORIA_TESTE` DISABLE KEYS */;
INSERT INTO `TBL_AUDITORIA_TESTE` VALUES (1,2,1);
/*!40000 ALTER TABLE `TBL_AUDITORIA_TESTE` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `TBL_AUDITORIA_WALKTHROUGH`
--

DROP TABLE IF EXISTS `TBL_AUDITORIA_WALKTHROUGH`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `TBL_AUDITORIA_WALKTHROUGH` (
  `ID_AUDITORIA_WALKTHROUGH` int NOT NULL AUTO_INCREMENT,
  `ID_AUDITORIA` int NOT NULL,
  `ID_WALKTHROUGH` int NOT NULL,
  PRIMARY KEY (`ID_AUDITORIA_WALKTHROUGH`),
  KEY `ID_AUDITORIA` (`ID_AUDITORIA`),
  KEY `ID_WALKTHROUGH` (`ID_WALKTHROUGH`),
  CONSTRAINT `TBL_AUDITORIA_WALKTHROUGH_ibfk_1` FOREIGN KEY (`ID_AUDITORIA`) REFERENCES `TBL_AUDITORIA` (`ID_AUDITORIA`),
  CONSTRAINT `TBL_AUDITORIA_WALKTHROUGH_ibfk_2` FOREIGN KEY (`ID_WALKTHROUGH`) REFERENCES `TBL_WALKTHROUGH` (`ID_WALKTHROUGH`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `TBL_AUDITORIA_WALKTHROUGH`
--

LOCK TABLES `TBL_AUDITORIA_WALKTHROUGH` WRITE;
/*!40000 ALTER TABLE `TBL_AUDITORIA_WALKTHROUGH` DISABLE KEYS */;
INSERT INTO `TBL_AUDITORIA_WALKTHROUGH` VALUES (1,2,1),(4,2,4),(5,2,5);
/*!40000 ALTER TABLE `TBL_AUDITORIA_WALKTHROUGH` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `TBL_CARGO`
--

DROP TABLE IF EXISTS `TBL_CARGO`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `TBL_CARGO` (
  `ID_CARGO` int NOT NULL AUTO_INCREMENT,
  `DESCRICAO_CARGO` varchar(100) NOT NULL,
  PRIMARY KEY (`ID_CARGO`)
) ENGINE=InnoDB AUTO_INCREMENT=12 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `TBL_CARGO`
--

LOCK TABLES `TBL_CARGO` WRITE;
/*!40000 ALTER TABLE `TBL_CARGO` DISABLE KEYS */;
INSERT INTO `TBL_CARGO` VALUES (1,'AUDITOR JR'),(2,'AUDITOR PLENO'),(3,'AUDITOR SENIOR'),(4,'GERENTE'),(5,'SUPERINTENDENTE'),(6,'SUPERINTENDENTE GERAL'),(7,'SUPERINTENDENTE EXECUTIVO'),(8,'DIRETOR'),(9,'ESPECIALISTA I'),(10,'ESPECIALISTA II'),(11,'COORDENADOR');
/*!40000 ALTER TABLE `TBL_CARGO` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `TBL_CHECKPOINT`
--

DROP TABLE IF EXISTS `TBL_CHECKPOINT`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `TBL_CHECKPOINT` (
  `ID_CHECKPOINT` int NOT NULL AUTO_INCREMENT,
  `ID_TIPO_CHECKPOINT` int NOT NULL,
  `ID_AUDITOR` int NOT NULL,
  `DATA_CRIACAO` varchar(100) NOT NULL,
  `ID_REVISOR` int DEFAULT NULL,
  `DATA_REVISAO` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`ID_CHECKPOINT`),
  KEY `ID_TIPO_CHECKPOINT` (`ID_TIPO_CHECKPOINT`),
  CONSTRAINT `TBL_CHECKPOINT_ibfk_1` FOREIGN KEY (`ID_TIPO_CHECKPOINT`) REFERENCES `TBL_TIPO_CHECKPOINT` (`ID_TIPO_CHECKPOINT`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `TBL_CHECKPOINT`
--

LOCK TABLES `TBL_CHECKPOINT` WRITE;
/*!40000 ALTER TABLE `TBL_CHECKPOINT` DISABLE KEYS */;
INSERT INTO `TBL_CHECKPOINT` VALUES (1,1,2,'2024-03-31 13:52:54',NULL,NULL),(3,2,2,'2024-03-31 18:46:56',NULL,NULL),(4,2,2,'2024-03-31 18:47:22',NULL,NULL);
/*!40000 ALTER TABLE `TBL_CHECKPOINT` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `TBL_COLABORADOR`
--

DROP TABLE IF EXISTS `TBL_COLABORADOR`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `TBL_COLABORADOR` (
  `ID_COLABORADOR` int NOT NULL AUTO_INCREMENT,
  `NOME_COLABORADOR` varchar(100) NOT NULL,
  `STATUS` varchar(100) NOT NULL,
  `ID_CARGO` int NOT NULL,
  `ID_AREA` int NOT NULL,
  PRIMARY KEY (`ID_COLABORADOR`),
  KEY `ID_CARGO` (`ID_CARGO`),
  KEY `ID_AREA` (`ID_AREA`),
  CONSTRAINT `TBL_COLABORADOR_ibfk_1` FOREIGN KEY (`ID_CARGO`) REFERENCES `TBL_CARGO` (`ID_CARGO`),
  CONSTRAINT `TBL_COLABORADOR_ibfk_2` FOREIGN KEY (`ID_AREA`) REFERENCES `TBL_AREA` (`ID_AREA`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `TBL_COLABORADOR`
--

LOCK TABLES `TBL_COLABORADOR` WRITE;
/*!40000 ALTER TABLE `TBL_COLABORADOR` DISABLE KEYS */;
INSERT INTO `TBL_COLABORADOR` VALUES (2,'RAFAEL SOUZA SILVA','ATIVO',3,1),(3,'RENATA SOUZA SILVA','ATIVO',2,1);
/*!40000 ALTER TABLE `TBL_COLABORADOR` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `TBL_MATRIZ_RISCO`
--

DROP TABLE IF EXISTS `TBL_MATRIZ_RISCO`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `TBL_MATRIZ_RISCO` (
  `ID_MATRIZ_RISCO` int NOT NULL AUTO_INCREMENT,
  `DATA_CRIACAO` varchar(100) NOT NULL,
  `ID_AUDITOR` int NOT NULL,
  `ID_REVISOR` int DEFAULT NULL,
  `DATA_REVISAO` varchar(100) DEFAULT NULL,
  `NOME_MATRIZ_RISCO` varchar(100) NOT NULL,
  PRIMARY KEY (`ID_MATRIZ_RISCO`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `TBL_MATRIZ_RISCO`
--

LOCK TABLES `TBL_MATRIZ_RISCO` WRITE;
/*!40000 ALTER TABLE `TBL_MATRIZ_RISCO` DISABLE KEYS */;
INSERT INTO `TBL_MATRIZ_RISCO` VALUES (1,'2024-03-31 13:36:56',2,NULL,NULL,'MATRIZ DE RISCO - DEVSECOPS'),(2,'2024-03-31 18:52:34',3,NULL,NULL,'MATRIZ DE RISCOS DEVSECOPS V2');
/*!40000 ALTER TABLE `TBL_MATRIZ_RISCO` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `TBL_PLANO_ACAO`
--

DROP TABLE IF EXISTS `TBL_PLANO_ACAO`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `TBL_PLANO_ACAO` (
  `ID_PLANO_ACAO` int NOT NULL AUTO_INCREMENT,
  `DESCRICAO_PLANO_ACAO` varchar(100) NOT NULL,
  `DATA_CRIACAO` varchar(100) NOT NULL,
  `DATA_INICIO` varchar(100) NOT NULL,
  `DATA_VENCIMENTO` varchar(100) NOT NULL,
  `ID_AUDITOR` int NOT NULL,
  `ID_REVISOR` int DEFAULT NULL,
  `DATA_REVISOR` varchar(100) DEFAULT NULL,
  `STATUS` varchar(100) DEFAULT NULL,
  `STATUS_REVISAO` varchar(100) DEFAULT NULL,
  `DESCRICAO_REVISOR` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`ID_PLANO_ACAO`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `TBL_PLANO_ACAO`
--

LOCK TABLES `TBL_PLANO_ACAO` WRITE;
/*!40000 ALTER TABLE `TBL_PLANO_ACAO` DISABLE KEYS */;
INSERT INTO `TBL_PLANO_ACAO` VALUES (1,'REVISAO DE ACESSO','2024-03-31 16:33:38','01/04/2024','01/08/2024',2,NULL,NULL,NULL,NULL,NULL),(2,'ATUALIZAR CERTIFICADO DIGITAL','2024-03-31 18:55:50','01/04/2024','01/10/2024',2,NULL,NULL,NULL,NULL,NULL);
/*!40000 ALTER TABLE `TBL_PLANO_ACAO` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `TBL_PLANO_APONTAMENTO`
--

DROP TABLE IF EXISTS `TBL_PLANO_APONTAMENTO`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `TBL_PLANO_APONTAMENTO` (
  `ID_PLANO_APONTAMENTO` int NOT NULL AUTO_INCREMENT,
  `ID_PLANO_ACAO` int NOT NULL,
  `ID_APONTAMENTO` int NOT NULL,
  PRIMARY KEY (`ID_PLANO_APONTAMENTO`),
  KEY `FK_PLANO_APONTAMENTO` (`ID_PLANO_ACAO`),
  KEY `FK_APONTAMENTO_PLANO` (`ID_APONTAMENTO`),
  CONSTRAINT `FK_APONTAMENTO_PLANO` FOREIGN KEY (`ID_APONTAMENTO`) REFERENCES `TBL_APONTAMENTO` (`ID_APONTAMENTO`),
  CONSTRAINT `FK_PLANO_APONTAMENTO` FOREIGN KEY (`ID_PLANO_ACAO`) REFERENCES `TBL_PLANO_ACAO` (`ID_PLANO_ACAO`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `TBL_PLANO_APONTAMENTO`
--

LOCK TABLES `TBL_PLANO_APONTAMENTO` WRITE;
/*!40000 ALTER TABLE `TBL_PLANO_APONTAMENTO` DISABLE KEYS */;
INSERT INTO `TBL_PLANO_APONTAMENTO` VALUES (1,1,1),(2,2,2);
/*!40000 ALTER TABLE `TBL_PLANO_APONTAMENTO` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `TBL_PLANO_PRORROGACAO`
--

DROP TABLE IF EXISTS `TBL_PLANO_PRORROGACAO`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `TBL_PLANO_PRORROGACAO` (
  `ID_PLANO_PRORROGACAO` int NOT NULL AUTO_INCREMENT,
  `ID_PLANO_ACAO` int NOT NULL,
  `ID_PRORROGACAO` int NOT NULL,
  PRIMARY KEY (`ID_PLANO_PRORROGACAO`),
  KEY `FK_PLANO_PRORROGACAO` (`ID_PLANO_ACAO`),
  KEY `FK_PRORROGACAO_PLANO` (`ID_PRORROGACAO`),
  CONSTRAINT `FK_PLANO_PRORROGACAO` FOREIGN KEY (`ID_PLANO_ACAO`) REFERENCES `TBL_PLANO_ACAO` (`ID_PLANO_ACAO`),
  CONSTRAINT `FK_PRORROGACAO_PLANO` FOREIGN KEY (`ID_PRORROGACAO`) REFERENCES `TBL_PRORROGACAO` (`ID_PRORROGACAO`)
) ENGINE=InnoDB AUTO_INCREMENT=17 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `TBL_PLANO_PRORROGACAO`
--

LOCK TABLES `TBL_PLANO_PRORROGACAO` WRITE;
/*!40000 ALTER TABLE `TBL_PLANO_PRORROGACAO` DISABLE KEYS */;
INSERT INTO `TBL_PLANO_PRORROGACAO` VALUES (2,1,2),(3,2,3),(4,2,4),(5,2,5),(6,2,6),(7,2,7),(8,2,8),(9,2,9),(10,2,10),(11,2,11),(12,2,12),(13,2,13),(14,2,14),(15,2,15),(16,2,16);
/*!40000 ALTER TABLE `TBL_PLANO_PRORROGACAO` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `TBL_PRORROGACAO`
--

DROP TABLE IF EXISTS `TBL_PRORROGACAO`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `TBL_PRORROGACAO` (
  `ID_PRORROGACAO` int NOT NULL AUTO_INCREMENT,
  `DATA_CRIACAO` varchar(100) NOT NULL,
  `PERIODO_PRORROGACAO` varchar(100) NOT NULL,
  `ID_AUDITOR` int NOT NULL,
  `ID_REVISOR` int DEFAULT NULL,
  `DATA_REVISAO` varchar(100) DEFAULT NULL,
  `ID_APROVADOR` int NOT NULL,
  `DATA_APROVACAO` varchar(100) NOT NULL,
  `STATUS_REVISAO` varchar(100) DEFAULT NULL,
  `DESCRICAO_REVISAO` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`ID_PRORROGACAO`)
) ENGINE=InnoDB AUTO_INCREMENT=17 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `TBL_PRORROGACAO`
--

LOCK TABLES `TBL_PRORROGACAO` WRITE;
/*!40000 ALTER TABLE `TBL_PRORROGACAO` DISABLE KEYS */;
INSERT INTO `TBL_PRORROGACAO` VALUES (1,'2024-03-31 16:43:26','180 DIAS',2,NULL,NULL,2,'01/04/2024',NULL,NULL),(2,'2024-03-31 16:44:10','180 DIAS',2,2,'2024-04-10 02:36:41',2,'01/04/2024','APROVADO','REVISADO COM SUCESSO!!!'),(3,'2024-03-31 18:58:29','180 dias',0,NULL,NULL,3,'01/02/2024',NULL,NULL),(4,'2024-03-31 18:59:28','180 dias',0,NULL,NULL,3,'01/02/2024',NULL,NULL),(5,'2024-03-31 19:00:42','180 dias',0,NULL,NULL,3,'01/02/2024',NULL,NULL),(6,'2024-03-31 19:01:50','180 dias',0,NULL,NULL,3,'01/02/2024',NULL,NULL),(7,'2024-03-31 19:04:08','180 DIAS',0,NULL,NULL,3,'01/02/2024',NULL,NULL),(8,'2024-03-31 21:10:12','180 DIAS',0,NULL,NULL,3,'01/02/2024',NULL,NULL),(9,'2024-03-31 21:11:33','180 DIAS',0,NULL,NULL,3,'01/02/2024',NULL,NULL),(10,'2024-03-31 21:14:40','180 DIAS',0,NULL,NULL,3,'01/02/2024',NULL,NULL),(11,'2024-03-31 21:16:46','360 DIAS',0,NULL,NULL,3,'01/02/2024',NULL,NULL),(12,'2024-03-31 21:18:45','360 DIAS',0,NULL,NULL,3,'01/02/2024',NULL,NULL),(13,'2024-03-31 21:19:11','120 DIAS',0,NULL,NULL,3,'01/02/2024',NULL,NULL),(14,'2024-04-08 02:48:50','120 DIAS',0,NULL,NULL,3,'01/02/2024',NULL,NULL),(15,'2024-04-08 02:49:09','170 DIAS',0,NULL,NULL,3,'01/02/2024',NULL,NULL),(16,'2024-04-08 02:52:11','360 DIAS',2,NULL,NULL,3,'01/02/2024',NULL,NULL);
/*!40000 ALTER TABLE `TBL_PRORROGACAO` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `TBL_RELATORIO`
--

DROP TABLE IF EXISTS `TBL_RELATORIO`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `TBL_RELATORIO` (
  `ID_RELATORIO` int NOT NULL AUTO_INCREMENT,
  `DATA_EMISSAO` varchar(100) NOT NULL,
  `RISCO` varchar(100) NOT NULL,
  `ID_AUDITOR` int NOT NULL,
  `DATA_CRIACAO` varchar(100) NOT NULL,
  `ID_REVISOR` int DEFAULT NULL,
  `DATA_REVISAO` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`ID_RELATORIO`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `TBL_RELATORIO`
--

LOCK TABLES `TBL_RELATORIO` WRITE;
/*!40000 ALTER TABLE `TBL_RELATORIO` DISABLE KEYS */;
INSERT INTO `TBL_RELATORIO` VALUES (1,'30/03/2024','ALTO',2,'2024-03-31 14:18:50',NULL,NULL),(2,'01/04/2024','ALTO',2,'2024-03-31 20:58:15',NULL,NULL),(3,'01/04/2024','ALTO',2,'2024-03-31 20:58:54',NULL,NULL);
/*!40000 ALTER TABLE `TBL_RELATORIO` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `TBL_TESTE`
--

DROP TABLE IF EXISTS `TBL_TESTE`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `TBL_TESTE` (
  `ID_TESTE` int NOT NULL AUTO_INCREMENT,
  `DESCRICAO_TESTE` varchar(100) NOT NULL,
  `DATA_CRIACAO` varchar(100) NOT NULL,
  `ID_AUDITOR` int NOT NULL,
  `ID_REVISOR` int DEFAULT NULL,
  `DATA_REVISAO` varchar(100) DEFAULT NULL,
  `STATUS_REVISAO` varchar(100) DEFAULT NULL,
  `DESCRICAO_REVISAO` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`ID_TESTE`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `TBL_TESTE`
--

LOCK TABLES `TBL_TESTE` WRITE;
/*!40000 ALTER TABLE `TBL_TESTE` DISABLE KEYS */;
INSERT INTO `TBL_TESTE` VALUES (1,'REVISAO DE ACESSO','2024-03-31 14:07:30',2,2,'2024-04-10 02:50:33','APROVADO','REVISADO COM SUCESSO!!!');
/*!40000 ALTER TABLE `TBL_TESTE` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `TBL_TIPO_CHECKPOINT`
--

DROP TABLE IF EXISTS `TBL_TIPO_CHECKPOINT`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `TBL_TIPO_CHECKPOINT` (
  `ID_TIPO_CHECKPOINT` int NOT NULL AUTO_INCREMENT,
  `DESCRICAO_TIPO_CHECKPOINT` varchar(100) NOT NULL,
  PRIMARY KEY (`ID_TIPO_CHECKPOINT`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `TBL_TIPO_CHECKPOINT`
--

LOCK TABLES `TBL_TIPO_CHECKPOINT` WRITE;
/*!40000 ALTER TABLE `TBL_TIPO_CHECKPOINT` DISABLE KEYS */;
INSERT INTO `TBL_TIPO_CHECKPOINT` VALUES (1,'CKP1 - ABERTURA DE TRABALHO'),(2,'CKP2 - FECHAMENTO DE TRABALHO');
/*!40000 ALTER TABLE `TBL_TIPO_CHECKPOINT` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `TBL_WALKTHROUGH`
--

DROP TABLE IF EXISTS `TBL_WALKTHROUGH`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `TBL_WALKTHROUGH` (
  `ID_WALKTHROUGH` int NOT NULL AUTO_INCREMENT,
  `DESCRICAO_WALKTHROUGH` varchar(100) NOT NULL,
  `ID_AUDITOR` int NOT NULL,
  `DATA_CRIACAO` varchar(100) NOT NULL,
  `ID_REVISOR` int DEFAULT NULL,
  `DATA_REVISAO` varchar(100) DEFAULT NULL,
  `CONCLUSAO` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`ID_WALKTHROUGH`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `TBL_WALKTHROUGH`
--

LOCK TABLES `TBL_WALKTHROUGH` WRITE;
/*!40000 ALTER TABLE `TBL_WALKTHROUGH` DISABLE KEYS */;
INSERT INTO `TBL_WALKTHROUGH` VALUES (1,'ANALISE DE REVISAO DE ACESSO',2,'2024-03-31 04:23:49',NULL,NULL,NULL),(2,'LEVANTAMENTO DE INFORMACOES - 01',0,'2024-03-31 21:03:37',NULL,NULL,NULL),(3,'LEVANTAMENTO DE INFORMACOES - 01',0,'2024-03-31 21:04:55',NULL,NULL,NULL),(4,'LEVANTAMENTO DE INFORMACOES - 01',3,'2024-03-31 21:07:24',NULL,NULL,NULL),(5,'LEVANTAMENTO DE INFORMACOES - 01',2,'2024-03-31 21:07:42',NULL,NULL,NULL);
/*!40000 ALTER TABLE `TBL_WALKTHROUGH` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Dumping events for database 'GADEV'
--

--
-- Dumping routines for database 'GADEV'
--
/*!50003 DROP PROCEDURE IF EXISTS `SP_ADD_APONTAMENTO` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `SP_ADD_APONTAMENTO`(
P_DESCRICAO_APONTAMENTO VARCHAR (100)
,P_RISCO VARCHAR (100)
,P_NOME_AUDITOR VARCHAR (100)
,P_NOME_AUDITORIA VARCHAR (100))
BEGIN

DECLARE P_ID_AUDITOR INT DEFAULT 0;
DECLARE P_ID_AUDITORIA INT DEFAULT 0;
DECLARE P_ID_APONTAMENTO INT DEFAULT 0;

SELECT ID_COLABORADOR INTO P_ID_AUDITOR
FROM GADEV.TBL_COLABORADOR
WHERE NOME_COLABORADOR = P_NOME_AUDITOR;

SELECT ID_AUDITORIA INTO P_ID_AUDITORIA
FROM GADEV.TBL_AUDITORIA
WHERE NOME_AUDITORIA = P_NOME_AUDITORIA;

INSERT INTO GADEV.TBL_APONTAMENTO 
(DESCRICAO_APONTAMENTO,RISCO,ID_AUDITOR,DATA_CRIACAO)
VALUES
(P_DESCRICAO_APONTAMENTO,P_RISCO,P_ID_AUDITOR,NOW());

SELECT MAX(ID_APONTAMENTO) INTO P_ID_APONTAMENTO FROM GADEV.TBL_APONTAMENTO;

INSERT INTO GADEV.TBL_AUDITORIA_APONTAMENTO
(ID_AUDITORIA,ID_APONTAMENTO)
VALUES
(P_ID_AUDITORIA,P_ID_APONTAMENTO);

END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_ADD_AREA` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `SP_ADD_AREA`(P_DESCRICAO_AREA VARCHAR(100))
BEGIN
INSERT INTO TBL_AREA (DESCRICAO_AREA) VALUES (P_DESCRICAO_AREA);
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_ADD_AUDITORIA` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `SP_ADD_AUDITORIA`(

P_NOME_AUDITORIA VARCHAR (100)
,P_DATA_INICIO VARCHAR (10)
,P_DATA_FIM VARCHAR (10)
,P_NOME_RESPONSAVEL VARCHAR (100)
)
BEGIN

DECLARE P_ID_RESPONSAVEL INT DEFAULT 0;

SELECT ID_COLABORADOR INTO P_ID_RESPONSAVEL 
FROM GADEV.TBL_COLABORADOR 
WHERE NOME_COLABORADOR = P_NOME_RESPONSAVEL;

INSERT INTO GADEV.TBL_AUDITORIA
(NOME_AUDITORIA, DATA_INICIO, DATA_FIM, ID_RESPONSAVEL)
VALUES
(P_NOME_AUDITORIA, P_DATA_INICIO, P_DATA_FIM, P_ID_RESPONSAVEL);

END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_ADD_CARGO` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `SP_ADD_CARGO`(P_DESCRICAO_CARGO VARCHAR(100))
BEGIN
INSERT INTO TBL_CARGO (DESCRICAO_CARGO) VALUES (P_DESCRICAO_CARGO);
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_ADD_CHECKPOINT` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `SP_ADD_CHECKPOINT`(
P_DESCRICAO_CHECKPOINT VARCHAR (100)
,P_NOME_AUDITOR VARCHAR (100)
,P_NOME_AUDITORIA VARCHAR (100)
)
BEGIN
DECLARE P_ID_TIPO_CHECKPOINT INT DEFAULT 0;
DECLARE P_ID_AUDITOR INT DEFAULT 0;
DECLARE P_ID_AUDITORIA INT DEFAULT 0;
DECLARE P_ID_CHECKPOINT INT DEFAULT 0;

SELECT ID_TIPO_CHECKPOINT INTO P_ID_TIPO_CHECKPOINT
FROM GADEV.TBL_TIPO_CHECKPOINT
WHERE DESCRICAO_TIPO_CHECKPOINT = P_DESCRICAO_CHECKPOINT;

SELECT ID_COLABORADOR INTO P_ID_AUDITOR
FROM GADEV.TBL_COLABORADOR
WHERE NOME_COLABORADOR = P_NOME_AUDITOR;

SELECT ID_AUDITORIA INTO P_ID_AUDITORIA
FROM GADEV.TBL_AUDITORIA
WHERE NOME_AUDITORIA = P_NOME_AUDITORIA;

INSERT INTO GADEV.TBL_CHECKPOINT
(ID_TIPO_CHECKPOINT,ID_AUDITOR,DATA_CRIACAO) 
VALUES 
(P_ID_TIPO_CHECKPOINT,P_ID_AUDITOR,NOW());

SELECT MAX(ID_CHECKPOINT) INTO P_ID_CHECKPOINT FROM GADEV.TBL_CHECKPOINT;

INSERT INTO GADEV.TBL_AUDITORIA_CHECKPOINT (ID_AUDITORIA,ID_CHECKPOINT) VALUES (P_ID_AUDITORIA,P_ID_CHECKPOINT);

END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_ADD_COLABORADOR` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `SP_ADD_COLABORADOR`(
P_NOME_COLABORADOR VARCHAR (100)
,P_STATUS VARCHAR (100)
,P_DESCRICAO_CARGO VARCHAR (100)
,P_DESCRICAO_AREA VARCHAR (100)
)
BEGIN

DECLARE P_ID_CARGO INT DEFAULT 0;
DECLARE P_ID_AREA INT DEFAULT 0;

SELECT ID_CARGO INTO P_ID_CARGO FROM GADEV.TBL_CARGO WHERE DESCRICAO_CARGO = P_DESCRICAO_CARGO;
SELECT ID_AREA INTO P_ID_AREA FROM GADEV.TBL_AREA WHERE DESCRICAO_AREA = P_DESCRICAO_AREA;

INSERT INTO GADEV.TBL_COLABORADOR 
(NOME_COLABORADOR,STATUS,ID_CARGO,ID_AREA)
VALUES
(P_NOME_COLABORADOR,P_STATUS,P_ID_CARGO,P_ID_AREA);

END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_ADD_MATRIZ_RISCO` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `SP_ADD_MATRIZ_RISCO`(
P_NOME_MATRIZ_RISCO VARCHAR (100)
,P_NOME_AUDITOR VARCHAR (100)
,P_NOME_AUDITORIA VARCHAR (100)
)
BEGIN
DECLARE P_ID_AUDITOR INT DEFAULT 0;
DECLARE P_ID_AUDITORIA INT DEFAULT 0;
DECLARE P_ID_MATRIZ_RISCO INT DEFAULT 0;

SELECT ID_COLABORADOR INTO P_ID_AUDITOR
FROM GADEV.TBL_COLABORADOR
WHERE NOME_COLABORADOR = P_NOME_AUDITOR;

SELECT ID_AUDITORIA INTO P_ID_AUDITORIA
FROM GADEV.TBL_AUDITORIA
WHERE NOME_AUDITORIA = P_NOME_AUDITORIA;

INSERT INTO GADEV.TBL_MATRIZ_RISCO (DATA_CRIACAO,ID_AUDITOR,NOME_MATRIZ_RISCO) VALUES (NOW(),P_ID_AUDITOR,P_NOME_MATRIZ_RISCO);

SELECT MAX(ID_MATRIZ_RISCO) INTO P_ID_MATRIZ_RISCO FROM GADEV.TBL_MATRIZ_RISCO;

INSERT INTO GADEV.TBL_AUDITORIA_MATRIZ
(ID_AUDITORIA,ID_MATRIZ_RISCO) 
VALUES 
(P_ID_AUDITORIA,P_ID_MATRIZ_RISCO);

END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_ADD_PLANO_ACAO` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `SP_ADD_PLANO_ACAO`(
P_DESCRICAO_APONTAMENTO VARCHAR (100)
,P_DESCRICAO_PLANO_ACAO VARCHAR (100)
,P_DATA_INICIO VARCHAR (100)
,P_DATA_VENCIMENTO VARCHAR (100)
,P_NOME_AUDITOR VARCHAR (100)
)
BEGIN

DECLARE P_ID_AUDITOR INT DEFAULT 0;
DECLARE P_ID_PLANO_ACAO INT DEFAULT 0;
DECLARE P_ID_APONTAMENTO INT DEFAULT 0;

SELECT ID_COLABORADOR INTO P_ID_AUDITOR
FROM GADEV.TBL_COLABORADOR
WHERE NOME_COLABORADOR = P_NOME_AUDITOR;

SELECT ID_APONTAMENTO INTO P_ID_APONTAMENTO
FROM GADEV.TBL_APONTAMENTO
WHERE DESCRICAO_APONTAMENTO = P_DESCRICAO_APONTAMENTO;

INSERT INTO GADEV.TBL_PLANO_ACAO
(DESCRICAO_PLANO_ACAO,DATA_CRIACAO,DATA_INICIO,DATA_VENCIMENTO,ID_AUDITOR)
VALUES
(P_DESCRICAO_PLANO_ACAO,NOW(),P_DATA_INICIO,P_DATA_VENCIMENTO,P_ID_AUDITOR);

SELECT MAX(ID_PLANO_ACAO) INTO P_ID_PLANO_ACAO FROM GADEV.TBL_PLANO_ACAO;

INSERT INTO GADEV.TBL_PLANO_APONTAMENTO
(ID_PLANO_ACAO,ID_APONTAMENTO)
VALUES
(P_ID_PLANO_ACAO,P_ID_APONTAMENTO);

END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_ADD_PRORROGACAO` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `SP_ADD_PRORROGACAO`(
P_DESCRICAO_PLANO_ACAO VARCHAR (100)
,P_PERIODO_PRORROGACAO VARCHAR (100)
,P_NOME_AUDITOR VARCHAR (100)
,P_NOME_APROVADOR VARCHAR (100)
,P_DATA_APROVACAO VARCHAR (100)
)
BEGIN

DECLARE P_ID_AUDITOR INT DEFAULT 0;
DECLARE P_ID_APROVADOR INT DEFAULT 0;
DECLARE P_ID_PLANO_ACAO INT DEFAULT 0;
DECLARE P_ID_PRORROGACAO INT DEFAULT 0;

SELECT ID_COLABORADOR INTO P_ID_APROVADOR
FROM GADEV.TBL_COLABORADOR
WHERE NOME_COLABORADOR = P_NOME_APROVADOR;

SELECT ID_COLABORADOR INTO P_ID_AUDITOR
FROM GADEV.TBL_COLABORADOR
WHERE NOME_COLABORADOR = P_NOME_AUDITOR;

INSERT INTO GADEV.TBL_PRORROGACAO
(DATA_CRIACAO,PERIODO_PRORROGACAO,ID_AUDITOR,ID_APROVADOR,DATA_APROVACAO)
VALUES
(NOW(),P_PERIODO_PRORROGACAO,P_ID_AUDITOR,P_ID_APROVADOR,P_DATA_APROVACAO);

SELECT MAX(ID_PRORROGACAO) INTO P_ID_PRORROGACAO FROM GADEV.TBL_PRORROGACAO;

SELECT ID_PLANO_ACAO INTO P_ID_PLANO_ACAO
FROM GADEV.TBL_PLANO_ACAO
WHERE DESCRICAO_PLANO_ACAO = P_DESCRICAO_PLANO_ACAO;

INSERT INTO GADEV.TBL_PLANO_PRORROGACAO
(ID_PLANO_ACAO,ID_PRORROGACAO)
VALUES
(P_ID_PLANO_ACAO,P_ID_PRORROGACAO);

END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_ADD_RELATORIO` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `SP_ADD_RELATORIO`(
P_DATA_EMISSAO VARCHAR (100)
,P_RISCO VARCHAR (100)
,P_NOME_AUDITORIA VARCHAR (100)
,P_NOME_AUDITOR VARCHAR (100)
)
BEGIN

DECLARE P_ID_AUDITOR INT DEFAULT 0;
DECLARE P_ID_AUDITORIA INT DEFAULT 0;
DECLARE P_ID_RELATORIO INT DEFAULT 0;

SELECT ID_COLABORADOR INTO P_ID_AUDITOR
FROM GADEV.TBL_COLABORADOR
WHERE NOME_COLABORADOR = P_NOME_AUDITOR;

SELECT ID_AUDITORIA INTO P_ID_AUDITORIA
FROM GADEV.TBL_AUDITORIA
WHERE NOME_AUDITORIA = P_NOME_AUDITORIA;

INSERT INTO GADEV.TBL_RELATORIO (DATA_EMISSAO,RISCO,ID_AUDITOR,DATA_CRIACAO) VALUES (P_DATA_EMISSAO,P_RISCO,P_ID_AUDITOR,NOW());

SELECT MAX(ID_RELATORIO) INTO P_ID_RELATORIO FROM GADEV.TBL_RELATORIO;

INSERT INTO GADEV.TBL_AUDITORIA_RELATORIO (ID_AUDITORIA,ID_RELATORIO) VALUES (P_ID_AUDITORIA,P_ID_RELATORIO);

END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_ADD_TESTE` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `SP_ADD_TESTE`(
P_DESCRICAO_TESTE VARCHAR (100)
,P_NOME_AUDITOR VARCHAR (100)
,P_NOME_AUDITORIA VARCHAR (100)
)
BEGIN
DECLARE P_ID_AUDITOR INT DEFAULT 0;
DECLARE P_ID_AUDITORIA INT DEFAULT 0;
DECLARE P_ID_TESTE INT DEFAULT 0;

SELECT ID_COLABORADOR INTO P_ID_AUDITOR
FROM GADEV.TBL_COLABORADOR
WHERE NOME_COLABORADOR = P_NOME_AUDITOR;

SELECT ID_AUDITORIA INTO P_ID_AUDITORIA
FROM GADEV.TBL_AUDITORIA
WHERE NOME_AUDITORIA = P_NOME_AUDITORIA;

INSERT INTO GADEV.TBL_TESTE 
(DESCRICAO_TESTE,DATA_CRIACAO,ID_AUDITOR)
VALUES
(P_DESCRICAO_TESTE,NOW(),P_ID_AUDITOR);

SELECT MAX(ID_TESTE) INTO P_ID_TESTE FROM GADEV.TBL_TESTE;

INSERT INTO GADEV.TBL_AUDITORIA_TESTE (ID_AUDITORIA,ID_TESTE) VALUES (P_ID_AUDITORIA,P_ID_TESTE);

END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_ADD_WALKTHROUGH` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `SP_ADD_WALKTHROUGH`(
 P_DESCRICAO_WALKTHROUGH VARCHAR (100)
,P_NOME_AUDITORIA VARCHAR (100)
,P_NOME_AUDITOR VARCHAR (100)
)
BEGIN

DECLARE P_ID_WALKTHROUGH INT DEFAULT 0;
DECLARE P_ID_AUDITORIA INT DEFAULT 0;
DECLARE P_ID_AUDITOR INT DEFAULT 0;

SELECT ID_AUDITORIA INTO P_ID_AUDITORIA
FROM GADEV.TBL_AUDITORIA
WHERE NOME_AUDITORIA = P_NOME_AUDITORIA;

SELECT ID_COLABORADOR INTO P_ID_AUDITOR
FROM GADEV.TBL_COLABORADOR
WHERE NOME_COLABORADOR = P_NOME_AUDITOR;

INSERT INTO TBL_WALKTHROUGH 
(DESCRICAO_WALKTHROUGH,ID_AUDITOR,DATA_CRIACAO)
 VALUES 
 (P_DESCRICAO_WALKTHROUGH,P_ID_AUDITOR,NOW());
 
SELECT MAX(ID_WALKTHROUGH) INTO P_ID_WALKTHROUGH FROM GADEV.TBL_WALKTHROUGH;
 
INSERT INTO TBL_AUDITORIA_WALKTHROUGH (ID_AUDITORIA,ID_WALKTHROUGH) VALUES (P_ID_AUDITORIA,P_ID_WALKTHROUGH);

END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_REVISAO_APONTAMENTO` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `SP_REVISAO_APONTAMENTO`(
 P_DESCRICAO_APONTAMENTO VARCHAR (100)
,P_STATUS_REVISAO VARCHAR (100)
,P_DESCRICAO_REVISAO VARCHAR (100)
,P_NOME_REVISOR VARCHAR (100)
)
BEGIN

DECLARE P_ID_REVISOR INT DEFAULT 0;
DECLARE P_ID_APONTAMENTO INT DEFAULT 0;

SELECT ID_COLABORADOR INTO P_ID_REVISOR
FROM GADEV.TBL_COLABORADOR
WHERE NOME_COLABORADOR = P_NOME_REVISOR;

SELECT ID_APONTAMENTO INTO P_ID_APONTAMENTO
FROM GADEV.TBL_APONTAMENTO
WHERE DESCRICAO_APONTAMENTO = P_DESCRICAO_APONTAMENTO;

UPDATE GADEV.TBL_APONTAMENTO 
SET STATUS_REVISAO = P_STATUS_REVISAO
WHERE ID_APONTAMENTO = P_ID_APONTAMENTO;

UPDATE GADEV.TBL_APONTAMENTO
SET DESCRICAO_REVISAO = P_DESCRICAO_REVISAO
WHERE ID_APONTAMENTO = P_ID_APONTAMENTO;

UPDATE GADEV.TBL_APONTAMENTO
SET ID_REVISOR = P_ID_REVISOR
WHERE ID_APONTAMENTO = P_ID_APONTAMENTO;

UPDATE GADEV.TBL_APONTAMENTO
SET DATA_REVISAO = NOW()
WHERE ID_APONTAMENTO = P_ID_APONTAMENTO;

END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_REVISAO_PLANO_ACAO` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `SP_REVISAO_PLANO_ACAO`(
P_DESCRICAO_PLANO_ACAO VARCHAR (100)
,P_NOME_REVISOR VARCHAR (100)
,P_STATUS_REVISAO VARCHAR (100)
,P_DESCRICAO_REVISOR VARCHAR (100)
)
BEGIN

DECLARE P_ID_PLANO_ACAO INT DEFAULT 0;
DECLARE P_ID_REVISOR INT DEFAULT 0;

SELECT ID_PLANO_ACAO INTO P_ID_PLANO_ACAO
FROM GADEV.TBL_PLANO_ACAO
WHERE DESCRICAO_PLANO_ACAO = P_DESCRICAO_PLANO_ACAO;

SELECT ID_COLABORADOR INTO P_ID_REVISOR
FROM GADEV.TBL_COLABORADOR
WHERE NOME_COLABORADOR = P_NOME_REVISOR;

UPDATE GADEV.TBL_PLANO_ACAO
SET STATUS_REVISAO = P_STATUS_REVISAO
WHERE ID_PLANO_ACAO = P_ID_PLANO_ACAO; 

UPDATE GADEV.TBL_PLANO_ACAO
SET DESCRICAO_REVISOR = P_DESCRICAO_REVISOR
WHERE ID_PLANO_ACAO = P_ID_PLANO_ACAO; 

UPDATE GADEV.TBL_PLANO_ACAO
SET ID_REVISOR = P_ID_REVISOR
WHERE ID_PLANO_ACAO = P_ID_PLANO_ACAO;

END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_REVISAO_PRORROGACAO` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `SP_REVISAO_PRORROGACAO`(
P_DESCRICAO_PLANO_ACAO VARCHAR (100)
,P_NOME_REVISOR VARCHAR (100)
,P_STATUS_REVISAO VARCHAR (100)
,P_DESCRICAO_REVISAO VARCHAR (100)
)
BEGIN

DECLARE P_ID_PRORROGACAO INT DEFAULT 0;
DECLARE P_ID_REVISOR INT DEFAULT 0;

SELECT PR.ID_PRORROGACAO INTO P_ID_PRORROGACAO
FROM GADEV.TBL_PRORROGACAO PR
INNER JOIN GADEV.TBL_PLANO_PRORROGACAO PP
ON PP.ID_PRORROGACAO = PR.ID_PRORROGACAO
INNER JOIN GADEV.TBL_PLANO_ACAO PA
ON PA.ID_PLANO_ACAO = PP.ID_PLANO_ACAO
WHERE PA.DESCRICAO_PLANO_ACAO = P_DESCRICAO_PLANO_ACAO;

SELECT ID_COLABORADOR INTO P_ID_REVISOR
FROM GADEV.TBL_COLABORADOR
WHERE NOME_COLABORADOR = P_NOME_REVISOR;

UPDATE GADEV.TBL_PRORROGACAO
SET ID_REVISOR = P_ID_REVISOR
WHERE ID_PRORROGACAO = P_ID_PRORROGACAO;

UPDATE GADEV.TBL_PRORROGACAO
SET STATUS_REVISAO = P_STATUS_REVISAO
WHERE ID_PRORROGACAO = P_ID_PRORROGACAO;

UPDATE GADEV.TBL_PRORROGACAO
SET DESCRICAO_REVISAO = P_DESCRICAO_REVISAO
WHERE ID_PRORROGACAO = P_ID_PRORROGACAO;

UPDATE GADEV.TBL_PRORROGACAO
SET DATA_REVISAO = NOW()
WHERE ID_PRORROGACAO = P_ID_PRORROGACAO;

END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_REVISAO_TESTE` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `SP_REVISAO_TESTE`(
P_DESCRICAO_TESTE VARCHAR (100)
,P_NOME_REVISOR VARCHAR (100)
,P_STATUS_REVISAO VARCHAR (100)
,P_DESCRICAO_REVISAO VARCHAR (100)
)
BEGIN

DECLARE P_ID_REVISOR INT DEFAULT 0;
DECLARE P_ID_TESTE INT DEFAULT 0;

SELECT ID_TESTE INTO P_ID_TESTE
FROM GADEV.TBL_TESTE
WHERE DESCRICAO_TESTE = P_DESCRICAO_TESTE;

SELECT ID_COLABORADOR INTO P_ID_REVISOR
FROM GADEV.TBL_COLABORADOR
WHERE NOME_COLABORADOR = P_NOME_REVISOR;

UPDATE GADEV.TBL_TESTE 
SET ID_REVISOR = P_ID_REVISOR
WHERE ID_TESTE = P_ID_TESTE;

UPDATE GADEV.TBL_TESTE 
SET DATA_REVISAO = NOW()
WHERE ID_TESTE = P_ID_TESTE;

UPDATE GADEV.TBL_TESTE 
SET STATUS_REVISAO = P_STATUS_REVISAO
WHERE ID_TESTE = P_ID_TESTE;

UPDATE GADEV.TBL_TESTE 
SET DESCRICAO_REVISAO = P_DESCRICAO_REVISAO
WHERE ID_TESTE = P_ID_TESTE;

END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2024-04-28  1:58:55
